<div class="wrapper">
  <!-- Navigation Bar -->
  <nav class="d-flex justify-content-between align-items-center px-4 py-2" style="background-color: #1e1e1e;">
    <div class="home-link d-flex gap-3">
      <a *ngIf="!isBookster" (click)="changeBooksterRoute()"><h3 class="text-white">Bookster</h3></a>
      <a *ngIf="!isBusiness" routerLink="/business"><h3 class="text-white">Business</h3></a>
      <a *ngIf="!isCourier" routerLink="/delivery"><h3 class="text-white">Delivery</h3></a>
    </div>

    <div class="module-link d-flex align-items-center gap-3">
      <div *ngIf="isSearchedBooks" class="search-bar d-flex">
        <form [formGroup]="searchForm" (ngSubmit)="searchBooks(searchForm)" class="d-flex">
          <input type="text" class="form-control search-input" placeholder="Search for books..." formControlName="searchQuery"/>
          <button class="btn btn-light ms-2" type="submit">
            <i class="fa-solid fa-magnifying-glass"></i>
          </button>
        </form>
      </div>

      <div *ngIf="isOnlyBookster" class="search-bar d-flex">
        <form [formGroup]="searchForm" (ngSubmit)="searchBooks(searchForm)" class="d-flex">
          <input type="text" class="form-control search-input" placeholder="Search for books..." formControlName="searchQuery"/>
          <button class="btn btn-light ms-2" type="submit">
            <i class="fa-solid fa-magnifying-glass"></i>
          </button>
        </form>
      </div>

      <div class="nav-link d-flex gap-3">
        <a *ngIf="isBookster" (click)="moduleChange('bookster')">For Booksters</a>
        <a *ngIf="isBusiness" (click)="moduleChange('business')">For Business</a>
        <a *ngIf="isCourier" (click)="moduleChange('delivery')">For Delivery</a>
      </div>

      <div *ngIf="!isLoggedIn" class="register-link">
        <a *ngIf="!isBookster" routerLink="/bookster/register">Register</a>
        <a *ngIf="!isBusiness" routerLink="/business/register">Register</a>
        <a *ngIf="!isCourier" routerLink="/delivery">Register</a>
      </div>

      <div *ngIf="!isLoggedIn" class="login-link">
        <a *ngIf="!isBookster" routerLink="/bookster/login">Login</a>
        <a *ngIf="!isBusiness" routerLink="/business/login">Login</a>
        <a *ngIf="!isCourier" routerLink="/delivery">Login</a>
      </div>

      <div *ngIf="isLoggedIn" class="logout-link">
        <a (click)="Logout()">Logout</a>
      </div>

      <div *ngIf="isLoggedIn" class="dropdown">
        <a class="dropdown-toggle text-white" type="button" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          Profile
        </a>
        <ul class="dropdown-menu" aria-labelledby="profileDropdown">
          <li><a class="dropdown-item" routerLink="/orders">Your Orders</a></li>
          <li><a class="dropdown-item" routerLink="/bookster/address">Add Address</a></li>
          <li><a class="dropdown-item" routerLink="/bookster/cart">Cart</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="body-section">
    <router-outlet></router-outlet>
  </div>

  <!-- Footer -->
  <footer class="footer text-white text-center py-3">
    <div class="container">
      <p class="mb-1">&copy; 2025 Bookify. All rights reserved.</p>
      <div class="footer-links d-flex justify-content-center gap-3">
        <a href="/terms" class="text-white">Terms of Service</a>
        <a href="/privacy" class="text-white">Privacy Policy</a>
        <a href="/contact" class="text-white">Contact Us</a>
      </div>
    </div>
  </footer>
</div>
